@model List<SistemaGestion.Models.ViewModels.DetalleDahsboard>
<div class="mb-2 mt-1">
    <div class="row">
        <div class="table-responsive">
            <table id="tbReporte" class="table table-bordered  display nowrap" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th class="text-center">Fecha</th>
                        <th class="text-center">Centro</th>
                        <th class="text-center">TotalTienda</th>
                        <th class="text-center">TotalSap</th>
                        <th class="text-center">Diferencia</th>

                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>@item.Fecha</td>
                            <td>@item.Centro</td>
                            <td>$@item.Total_Tienda.ToString("0,000")</td>
                            <td>$@item.Total_SAP.ToString("0,000")</td>
                            @{
                                int dif = Convert.ToInt32(item.Diferencia);
                                if (dif < 0)
                                {
                                    <td class="bg-danger text-white">$@item.Diferencia.Value.ToString("0,000")</td>
                                }
                                else if (dif > 0)
                                {
                                    <td class="bg-warning text-white">@item.Diferencia.Value.ToString("C")</td>
                                }
                                else
                                {
                                    <td class="bg-success text-white">$@item.Diferencia.Value.ToString("0,000")</td>
                                }
                            }

                            @*<td style="width:30px;" class="text-center">
                            <button type='button' class='editar btn btn-outline-danger btn-sm shadow-sm' title="Reprocesar"
                                    onclick='Diferencias("@item.Fecha","@item.Centro")'>
                                <span class='fa fa-refresh'></span>
                            </button>
                        </td>*@
                        </tr>
                    }
                </tbody>
            </table>
            <div class="footer">
                <div class="chart-legend">
                    <div class="text-center">
                        <i class="fa fa-circle text-danger"></i>
                        Tienda con Faltante
                        <i class="fa fa-circle text-success"></i>
                        Tienda Cuadrada
                        <i class="fa fa-circle text-warning"></i>
                        Tienda Con Sobrante o Libro Venta no Cargado

                    </div>

                </div>

            </div>
        </div>
    </div>
</div>


<script>
    $(document).ready(function () {

        var tabla_data;
         tabla_data= $('#tbReporte').DataTable({
             "language": {
                   url: "@Url.Content("~/Content/datatable/js/datatable_spanish.json")"
               }
        });
    });

    @*function Diferencias(date, local) {
        console.log('entro al Diferencias');
        $('#cargal').modal('show');
         var url = "@Url.Action("Ven", "Admin")";
           $.ajax({
            type: 'POST',
               url: url,
               data: { local: local, date: date },
               success: function (data) {
                 /*  setTimeout(bajardiv, 1000);*/
                   //setTimeout(bajar, 1000);
                   //setTimeout(Subir, 2000);
                   $('#cargal').modal('hide');
                   $('#diferencias').html(data);
                   $('#diferencias').show();
                   function bajar() {
                       $('#cargal').modal('hide');

                   }
                   //function Subir() {
                   //    $('#diferencias').html(data);
                   //    $('#diferencias').show();
                   //}


               },
               error: function (xhr, ajaxOptions, thrownError) {
                   alert(thrownError);
               }
             });
    };*@



</script>
